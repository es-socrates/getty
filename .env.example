# getty â€“ Example environment variables

########################################
# Core
########################################

# Environment: 'production' in hosting, 'development' locally
NODE_ENV=production

# Server port (default 3000)
# PORT=3000

# Secure cookies in production (HTTPS). Use 0 locally.
COOKIE_SECURE=0

# Session TTL (in seconds). Default: 3 days
SESSION_TTL_SECONDS=259200

# Require a session for API access even without Redis (off by default)
# GETTY_REQUIRE_SESSION=0

# Optional Redis for namespaced sessions (recommended for hosted)
# REDIS_URL=redis://user:pass@host:6379/0

# Trusted IPs that see full data even when anonymous (comma-separated)
# GETTY_ALLOW_IPS=127.0.0.1,::1

########################################
# Content-Security-Policy (CSP)
########################################

# CSP is enabled by default in production (NODE_ENV=production).
# To explicitly force enable/disable:
#   GETTY_ENABLE_CSP=1  -> force ON
#   GETTY_ENABLE_CSP=0  -> force OFF
#   GETTY_ENABLE_CSP=0

# Extra directives (comma-separated lists)
# GETTY_CSP_CONNECT_EXTRA=https://sockety.odysee.tv
# GETTY_CSP_SCRIPT_EXTRA=https://cdn.example.com
# GETTY_CSP_IMG_EXTRA=https://cdn.example.com
# GETTY_CSP_MEDIA_EXTRA=https://cdn.audio.com

# Allow inline event handlers only by hash (advanced; prefer removing inline handlers)
# Adds 'unsafe-hashes' to script-src when set to 1
# GETTY_CSP_UNSAFE_HASHES=0

# Comma-separated list of allowed script hashes for inline handlers (NO quotes)
# Example: sha256-xxxxxxxx,sha256-yyyyyyyy
# GETTY_CSP_SCRIPT_HASHES=

# Optional override for script-src-attr directive (comma-separated; NO quotes)
# Useful values: 'unsafe-hashes' and/or specific hashes (e.g., sha256-...)
# Example: GETTY_CSP_SCRIPT_ATTR=unsafe-hashes, sha256-xxxxxxxx
# GETTY_CSP_SCRIPT_ATTR=

#################################################
# WebSocket: Origin allowlist (optional, prod)
#################################################

# If you set this list (comma-separated), only those Origins may open WS.
# OBS usually doesn't send Origin (empty is allowed for compatibility).
# GETTY_ALLOW_ORIGINS=https://yourdomain.com,https://admin.yourdomain.com

########################################
# Liveviews proxy (Odysee status)
########################################

# Cache TTL (ms) for live status proxy (default 10000)
# GETTY_LIVEVIEWS_TTL_MS=10000

# Optional rate limiting for the proxy (disabled by default)
# GETTY_LIVEVIEWS_RL_ENABLED=1
# GETTY_LIVEVIEWS_RL_WINDOW_MS=60000
# GETTY_LIVEVIEWS_RL_MAX=120

########################################
# External notifications (optional)
########################################

# DISCORD_WEBHOOK=https://discord.com/api/webhooks/...
# TELEGRAM_BOT_TOKEN=123456:abc...
# TELEGRAM_CHAT_ID=123456789

########################################
# Chat (Odysee WebSocket)
########################################

# Template used to build the Odysee WS URL; ODYSEE_WS_URL can override
# ODYSEE_WS_TEMPLATE=wss://sockety.odysee.tv/socket?name={channel}

# Direct WS URL (overrides template if set)
# ODYSEE_WS_URL=wss://sockety.odysee.tv/socket?name=YourChannel

########################################
# Widgets: Arweave queries and timeouts
########################################

# Logging
# LOG_LEVEL=debug

# Tip Widget
# TIP_WIDGET_EXTRA_GATEWAYS=https://arweave.net,https://ar-io.net
# TIP_WIDGET_GRAPHQL_TIMEOUT_MS=10000

# Tip Goal
# TIP_GOAL_EXTRA_GATEWAYS=https://arweave.net,https://ar-io.net
# TIP_GOAL_GRAPHQL_TIMEOUT_MS=10000

# Last Tip
# LAST_TIP_EXTRA_GATEWAYS=https://arweave.net,https://ar-io.net
# LAST_TIP_GRAPHQL_TIMEOUT_MS=10000
# LAST_TIP_VIEWBLOCK_TIMEOUT_MS=6000

# Viewblock API (optional, for enhanced lookups)
# VIEWBLOCK_API_KEY=your_key_here

########################################
# Social media embeds (security)
########################################

# Enforce HTTPS-only embeds for social media (true in production by default)
# SOCIALMEDIA_HTTPS_ONLY=true
