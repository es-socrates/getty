<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Getty</title>
    <meta property="og:title" content="Getty" />
    <meta property="og:site_name" content="Getty"/>
    <meta name="description" content="App widget for Odysee streamers to manage tips, goals, and chat.">
    <link rel="shortcut icon" href="/assets/getty-fav.png" />
    <link href="/css/output.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/admin.css">
    <link rel="stylesheet" href="/widgets/tip-notification.css">
    <link rel="stylesheet" href="/widgets/tip-goal.css">
    <link rel="stylesheet" href="/widgets/chat.css">
    <script src="/js/languages.js"></script>
</head>
<body class="bg-background text-gray-100 font-sans">
<div class="max-w-7xl mx-auto p-6">
    <header class="flex justify-between items-center pb-5 mb-8 border-b border-border">
        <div class="flex items-center gap-4">
            <a href="/" class="logo-link">
                <img src="/assets/getty.png" alt="Getty Logo" class="h-10">
            </a>
        </div>
        <div class="flex items-center gap-4">
            <div class="connection-status">
              <span class="status-dot disconnected"></span>
            </div>
            
            <div class="relative">
                <button id="user-menu-button" class="flex items-center gap-2 text-white hover:text-primary-200 transition-colors">
                    <svg class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z" />
                    </svg>
                </button>
                
                <div id="user-menu" class="absolute right-0 mt-2 w-48 bg-card border border-border rounded-lg shadow-lg opacity-0 invisible transition-all duration-200 z-50">
                    <div class="py-1">
                        <a href="/admin.html" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white transition-colors" data-i18n="settings"></a>
                        <div class="border-t border-border my-1"></div>
                        <div class="px-4 py-2">
                            <label for="language-selector" class="block text-sm text-gray-300 mb-1" data-i18n="language"></label>
                            <select id="language-selector" class="language-selector w-full bg-gray-800 border border-gray-600 rounded px-2 py-1 text-sm text-white">
                                <option value="en" data-i18n="english"></option>
                                <option value="es" data-i18n="spanish"></option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
        
    <main class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8">
        <section class="bg-card rounded-lg shadow-lg overflow-hidden flex flex-col">
            <h2 class="px-6 pt-4 text-2xl font-semibold" data-i18n="lastTipTitle"></h2>
            <div class="p-3 flex-1 flex flex-col justify-center">
                <div id="last-donation" class="last-donation">
                    <div class="last-donation-content">
                        <div class="notification-icon">❤️</div>
                        <div class="notification-text">
                            <div class="notification-title" data-i18n="loading"></div>
                            <div class="notification-amount">
                                <div class="amount-container">
                                    <span class="ar-amount">--</span>
                                    <span class="ar-symbol">AR</span>
                                </div>
                                <div class="usd-value"></div>
                            </div>
                            <div class="notification-from" data-i18n="connectingToWallet"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="bg-card rounded-lg shadow-lg overflow-hidden flex flex-col">
            <h2 class="px-6 pt-4 text-2xl font-semibold" data-i18n="monthlyGoalTitle"></h2>
            <div class="p-3 flex-1 flex flex-col justify-center">
                <div id="goal-widget" class="p-4">
                    <div class="goal-container"></div>
                </div>
            </div>
        </section>

        <section class="bg-card rounded-lg shadow-lg overflow-hidden flex flex-col">
            <h2 class="px-6 pt-4 text-2xl font-semibold" data-i18n="notificationsTitle"></h2>
            <div class="p-3 flex-1 flex flex-col justify-center">
                <div id="notification" class="mb-2"></div>
            </div>
        </section>

        <section class="bg-chat rounded-lg shadow-lg overflow-hidden flex flex-col h-[450px]">
            <h2 class="px-6 pt-4 text-2xl font-semibold" data-i18n="liveChatTitle"></h2>
            <div class="p-3 flex-1 flex flex-col max-h-[calc(100%-44px)] overflow-hidden">
                <div id="chat-container"></div>
            </div>
        </section>
    </main>
</div>
<footer class="py-6 border-t border-border text-center text-sm">
    <div class="max-w-7xl mx-auto px-6">
        <div class="flex flex-col md:flex-row justify-between items-center">
            <div class="mb-4 md:mb-0">
                <p class="font-bold" data-i18n="copyright">© 2025 Getty - <a href="https://opensource.org/licenses/MIT" target="_blank" class="hover:text-primary-200 transition-colors font-bold">MIT License</a></p>
            </div>
            <div class="flex space-x-4">
                <a href="https://odysee.com" target="_blank" class="hover:text-primary-200 transition-colors font-bold">Odysee</a>
                <span>-</span>
                <a href="https://github.com/es-socrates/getty" target="_blank" class="hover:text-primary-200 transition-colors font-bold">GitHub</a>
                <span>-</span>
                <p class="font-bold" data-i18n="independentProject"></p>
            </div>
        </div>
    </div>
</footer>
<script src="/js/last-tip.js"></script>
<script src="/js/tip-widget.js"></script>
<script src="/js/tip-goal.js"></script>
<script src="/js/chat.js"></script>
<script src="/js/app.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const userMenuButton = document.getElementById('user-menu-button');
        const userMenu = document.getElementById('user-menu');
        
        userMenuButton.addEventListener('click', function(e) {
            e.stopPropagation();
            userMenu.classList.toggle('opacity-0');
            userMenu.classList.toggle('invisible');
        });
        
        document.addEventListener('click', function(e) {
            if (!userMenu.contains(e.target) && !userMenuButton.contains(e.target)) {
                userMenu.classList.add('opacity-0', 'invisible');
            }
        });
        
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                userMenu.classList.add('opacity-0', 'invisible');
            }
        });
    });
</script>
</body>
</html>