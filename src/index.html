<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Getty</title>
    <meta property="og:title" content="Getty" />
    <meta property="og:site_name" content="Getty"/>
    <meta name="description" content="Widget app for tip notifications, tip goals, chat rewards and display real-time alerts for your livestreams in Odysee.">
    <link rel="shortcut icon" href="/assets/getty-fav.png" />
        <script>
            (function(){
                try {
                    var stored = localStorage.getItem('theme');
                    var prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
                    var useDark = stored ? stored === 'dark' : prefersDark;
                    if (useDark) document.documentElement.classList.add('dark');
                } catch(e) {}
            })();
        </script>
    <link rel="stylesheet" href="/css/output.css">
    <link rel="stylesheet" href="/widgets/tip-notification.css">
    <link rel="stylesheet" href="/widgets/tip-goal.css">
    <link rel="stylesheet" href="/widgets/chat.css">
    <link rel="stylesheet" href="/widgets/raffle.css">
    <script src="/js/min/i18n-runtime.js?v=919bc431"></script>
    <style>
        html:not(.dark) .chat-default .message.has-donation .message-text-inline { color: #111 !important; }
        html:not(.dark) .chat-default .message { color: #fff !important; }
        html:not(.dark) .theme-light .message-text-inline { color: var(--text) !important; }
        html:not(.dark) body .last-donation .notification-title { color: #fff !important; }
        html:not(.dark) #chat-container.theme-active:not(.theme-light) .message:not(.has-donation) .message-text-inline { color: #fff !important; }
        html:not(.dark) #chat-container.theme-active:not(.theme-light) .message.has-donation .message-text-inline { color: #111 !important; }
        .raffle-embed .raffle-header { margin-bottom: 0.25rem; }
        .raffle-embed .participants-list { max-height: 200px; margin: 0.25rem 0; }
        .raffle-embed .participant { border-bottom-color: rgba(255,255,255,0.08); }
        .raffle-embed .winner-name { letter-spacing: 0.3px; }
        .raffle-embed .stats { color: #94a3b8; margin-top: 0.375rem; }
        html:not(.dark) .raffle-embed .raffle-prize-label,
        html:not(.dark) .raffle-embed .raffle-participants-label,
        html:not(.dark) .raffle-embed .raffle-participant-count,
        html:not(.dark) .raffle-embed .raffle-winner-title { color: #fff !important; }
        html:not(.dark) .raffle-embed .participant { color: #fff !important; }
    </style>
</head>
<body class="bg-background text-gray-100 font-sans">
<div class="max-w-7xl mx-auto p-6">
    <header class="os-header flex justify-between items-center pb-5 mb-8 border-b border-border">
        <div class="flex items-center gap-4">
            <a href="/" class="logo-link">
                <img src="/assets/getty.png" alt="Getty Logo" class="h-10 dark-logo">
                <img src="/assets/gettydark.png" alt="Getty Logo" class="h-10 light-logo">
            </a>
        </div>
        <div class="flex items-center gap-4">
            <div class="connection-status">
              <span class="status-dot disconnected"></span>
            </div>
            <button id="theme-toggle" class="theme-toggle" title="Toggle theme">
                <svg class="sun-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,2L14.39,5.42C13.65,5.15 12.84,5 12,5C11.16,5 10.35,5.15 9.61,5.42L12,2M3.34,7L7.5,6.65C6.9,7.16 6.36,7.78 5.94,8.5C5.52,9.22 5.25,10 5.11,10.79L3.34,7M3.36,17L5.12,13.23C5.26,14 5.53,14.78 5.95,15.5C6.37,16.22 6.91,16.84 7.51,17.35L3.36,17M20.65,7L18.88,10.77C18.74,10 18.47,9.22 18.05,8.5C17.63,7.78 17.09,7.16 16.49,6.65L20.65,7M20.64,17L16.5,17.35C17.1,16.84 17.64,16.22 18.06,15.5C18.48,14.78 18.75,14 18.89,13.21L20.64,17M12,22L9.59,18.56C10.33,18.83 11.14,19 12,19C12.86,19 13.67,18.83 14.41,18.56L12,22Z" />
                </svg>
                <svg class="moon-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M17.75,4.09L15.22,6.03L16.13,9.09L13.5,7.28L10.87,9.09L11.78,6.03L9.25,4.09L12.44,4L13.5,1L14.56,4L17.75,4.09M21.25,11L19.61,12.25L20.2,14.23L18.5,13.06L16.8,14.23L17.39,12.25L15.75,11L17.81,10.95L18.5,9L19.19,10.95L21.25,11M18.97,15.95C19.8,15.87 20.69,17.05 20.16,17.8C19.84,18.25 19.5,18.67 19.08,19.07C15.17,23 8.84,23 4.94,19.07C1.03,15.17 1.03,8.83 4.94,4.93C5.34,4.53 5.76,4.17 6.21,3.85C6.96,3.32 8.14,4.21 8.06,5.04C7.79,7.9 8.75,10.87 10.95,13.06C13.14,15.26 16.1,16.22 18.97,15.95M17.33,17.97C14.5,17.81 11.7,16.64 9.53,14.5C7.36,12.31 6.2,9.5 6.04,6.68C3.23,9.82 3.34,14.4 6.35,17.41C9.37,20.43 14,20.54 17.33,17.97Z" />
                </svg>
            </button>
            
            <div class="relative">
                <button id="user-menu-button" class="flex items-center gap-2 text-white">
                    <svg class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z" />
                    </svg>
                </button>
                
                <div id="user-menu" class="absolute right-0 mt-2 w-48 bg-card border border-border rounded-lg shadow-lg opacity-0 invisible transition-all duration-200 z-50">
                    <div class="py-1">
                        <a href="/admin/" target="_blank" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white transition-colors" data-i18n="settings"></a>
                        <div class="border-t border-border my-1"></div>
                        <div class="px-4 py-2">
                            <label for="language-selector" class="block text-sm text-gray-300 mb-1" data-i18n="language"></label>
                            <select id="language-selector" class="language-selector w-full bg-gray-800 border border-gray-600 rounded px-2 py-1 text-sm text-white">
                                <option value="en" data-i18n="english"></option>
                                <option value="es" data-i18n="spanish"></option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
        
    <main class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8">
    <section class="os-card overflow-hidden flex flex-col md:order-1 lg:order-1">
            <h2 class="px-6 text-2xl font-semibold mb-1.5" data-i18n="lastTipTitle"></h2>
            <div class="flex-1 flex flex-col justify-center">
                <div id="last-donation" class="last-donation">
                    <div class="last-donation-content">
                        <div class="notification-icon-lasttip">
                            <svg width="100px" height="100px" viewBox="0 0 32.00 32.00" id="_x3C_Layer_x3E_" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#191919" stroke="#191919" stroke-width="0.608" transform="matrix(1, 0, 0, 1, 0, 0)rotate(0)"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#191919" stroke-width="1.216"> <style type="text/css">  .st0{fill:#E3F2FD;} .st1{fill:#97ade8;} .st2{fill:#1AD2A4;} .st3{fill:#ECEFF1;} .st4{fill:#55FB9B;} .st5{fill:#BBDEFB;} .st6{fill:#C1AEE1;} .st7{fill:#FF5252;} .st8{fill:#FF8A80;} .st9{fill:#FFB74D;} .st10{fill:#FFF176;} .st11{fill:#191919;} .st12{fill:#65C7EA;} .st13{fill:#CFD8DC;} .st14{fill:#191919;} .st15{fill:#191919;} .st16{fill:#ffffff;} .st17{fill:#191919;}  </style> <g id="USDC_x2C__usd_coin"> <g id="XMLID_182_"> <circle class="st16" cx="16" cy="16" id="XMLID_75_" r="14.5"></circle> </g> <g id="XMLID_55_"> <g id="XMLID_174_"> <path class="st17" d="M16,31C7.73,31,1,24.27,1,16S7.73,1,16,1s15,6.73,15,15S24.27,31,16,31z M16,2 C8.28,2,2,8.28,2,16s6.28,14,14,14s14-6.28,14-14S23.72,2,16,2z" id="XMLID_677_"></path> </g> <g id="XMLID_77_"> <path class="st11" d="M17.22,21.5h-2.44c-1.53,0-2.78-1.25-2.78-2.78V18.5c0-0.28,0.22-0.5,0.5-0.5 s0.5,0.22,0.5,0.5v0.22c0,0.98,0.8,1.78,1.78,1.78h2.44c0.98,0,1.78-0.8,1.78-1.78c0-0.79-0.53-1.49-1.29-1.71l-3.69-1.05 C12.83,15.61,12,14.51,12,13.28c0-1.53,1.25-2.78,2.78-2.78h2.44c1.53,0,2.78,1.25,2.78,2.78v0.22c0,0.28-0.22,0.5-0.5,0.5 S19,13.78,19,13.5v-0.22c0-0.98-0.8-1.78-1.78-1.78h-2.44c-0.98,0-1.78,0.8-1.78,1.78c0,0.79,0.53,1.49,1.29,1.71l3.69,1.05 c1.19,0.34,2.02,1.44,2.02,2.67C20,20.25,18.75,21.5,17.22,21.5z" id="XMLID_676_"></path> </g> <g id="XMLID_78_"> <path class="st11" d="M16,23.5c-0.28,0-0.5-0.22-0.5-0.5v-2c0-0.28,0.22-0.5,0.5-0.5s0.5,0.22,0.5,0.5v2 C16.5,23.28,16.28,23.5,16,23.5z" id="XMLID_667_"></path> </g> <g id="XMLID_79_"> <path class="st11" d="M16,11.5c-0.28,0-0.5-0.22-0.5-0.5V9c0-0.28,0.22-0.5,0.5-0.5s0.5,0.22,0.5,0.5v2 C16.5,11.28,16.28,11.5,16,11.5z" id="XMLID_127_"></path> </g> <g id="XMLID_82_"> <g id="XMLID_83_"> <path class="st11" d="M12.5,26.39c-0.06,0-0.11-0.01-0.17-0.03C7.95,24.81,5,20.64,5,16s2.95-8.81,7.33-10.36 c0.26-0.09,0.54,0.04,0.64,0.3c0.09,0.26-0.04,0.55-0.3,0.64C8.68,7.99,6,11.78,6,16s2.68,8.01,6.67,9.42 c0.26,0.09,0.4,0.38,0.3,0.64C12.9,26.26,12.71,26.39,12.5,26.39z" id="XMLID_107_"></path> </g> <g id="XMLID_84_"> <path class="st11" d="M19.5,26.39c-0.21,0-0.4-0.13-0.47-0.33c-0.09-0.26,0.04-0.55,0.3-0.64 C23.32,24.01,26,20.22,26,16s-2.68-8.01-6.67-9.42c-0.26-0.09-0.4-0.38-0.3-0.64c0.09-0.26,0.38-0.4,0.64-0.3 C24.05,7.19,27,11.36,27,16s-2.95,8.81-7.33,10.36C19.61,26.38,19.56,26.39,19.5,26.39z" id="XMLID_106_"></path> </g> </g> </g> </g> </g></svg>
                        </div>
                        <div class="notification-text">
                            <div class="notification-title" data-i18n="loading"></div>
                            <div class="notification-amount">
                                <div class="amount-container">
                                    <span class="ar-amount">--</span>
                                    <span class="ar-symbol">AR</span>
                                </div>
                                <div class="usd-value"></div>
                            </div>
                            <div class="notification-from-lasttip" data-i18n="connectingToWallet"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
    <section class="os-card overflow-hidden flex flex-col md:order-2 lg:order-2">
            <h2 class="px-6 text-2xl font-semibold mb-1.5" data-i18n="monthlyGoalTitle"></h2>
            <div class="flex-1 flex flex-col justify-center">
                <div id="goal-widget" class="p-4">
                    <div class="goal-container"></div>
                </div>
            </div>
        </section>

    <section class="os-card overflow-hidden flex flex-col md:order-3 lg:order-3">
            <h2 class="px-6 text-2xl font-semibold mb-1.5" data-i18n="notificationsTitle"></h2>
            <div class="flex-1 flex flex-col justify-center">
                <div id="notification" class="mb-2"></div>
            </div>
        </section>

    <section class="os-card overflow-hidden flex flex-col h-[450px] md:order-4 lg:order-4">
            <h2 class="px-6 text-2xl font-semibold mb-1.4" data-i18n="liveChatTitle"></h2>
            <div class="flex-1 flex flex-col max-h-[calc(100%-44px)] overflow-hidden">
                <div id="chat-container"></div>
            </div>
        </section>
    
    <section class="os-card overflow-hidden flex flex-col h-[450px] md:order-5 lg:order-5">
            <h2 class="px-6 text-2xl font-semibold mb-1.5 flex items-center gap-2">
                <span data-i18n="raffleTitle"></span>
            </h2>
            <div class="flex-1 flex flex-col justify-center p-4">
                <div class="raffle-embed bg-[#080c10] rounded-[6px] p-3 pt-0 h-full">
                    <div id="raffleContentContainer" class="-mt-0"></div>
                </div>
            </div>
        </section>
    </main>
<footer class="py-6 border-[var(--background)] text-center text-sm">
    <div class="max-w-7xl mx-auto px-6">
        <div class="flex flex-col md:flex-row justify-between items-center">
            <div class="mb-4 md:mb-0">
                <p class="font-bold" data-i18n="copyright">© 2025 <a href="https://getty.sh/" target="_blank" class="hover:text-primary-200 transition-colors font-bold">Getty</a> - <a href="https://opensource.org/licenses/MIT" target="_blank" class="hover:text-primary-200 transition-colors font-bold">MIT License</a></p>
            </div>
            <div class="flex space-x-4">
                <a href="https://odysee.com" target="_blank" class="hover:text-primary-200 transition-colors font-bold">Odysee</a>
                <span>-</span>
                <a href="https://github.com/es-socrates/getty" target="_blank" class="hover:text-primary-200 transition-colors font-bold">GitHub</a>
                <span>-</span>
                <p class="font-bold" data-i18n="independentProject"></p>
            </div>
        </div>
    </div>
</footer>
<script src="/js/min/last-tip.js"></script>
<script src="/js/min/tip-widget.js"></script>
<script src="/js/min/tip-goal.js"></script>
<script src="/js/min/chat.js"></script>
<script src="/js/min/raffle.js"></script>
<script src="/js/min/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const userMenuButton = document.getElementById('user-menu-button');
            const userMenu = document.getElementById('user-menu');
            const themeToggle = document.getElementById('theme-toggle');
            const chatContainer = document.getElementById('chat-container');
            const raffleRoot = document.getElementById('raffleContentContainer');
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.documentElement.classList.toggle('dark', savedTheme === 'dark');

            try {
                const themeCSS = localStorage.getItem('chatLiveThemeCSS') || '';
                if (chatContainer) {
                    const hasTheme = !!themeCSS && themeCSS.trim().length > 0;
                    chatContainer.classList.toggle('theme-active', hasTheme);
                    chatContainer.classList.toggle('chat-default', !hasTheme);
                    chatContainer.classList.toggle('theme-light', hasTheme && themeCSS.includes('--text: #1f2328'));
                }
            } catch(e) {}

            themeToggle.addEventListener('click', function() {
                const isDark = document.documentElement.classList.contains('dark');
                document.documentElement.classList.toggle('dark', !isDark);
                localStorage.setItem('theme', isDark ? 'light' : 'dark');
            });

            userMenuButton.addEventListener('click', function(e) {
                e.stopPropagation();
                userMenu.classList.toggle('opacity-0');
                userMenu.classList.toggle('invisible');
            });

            document.addEventListener('click', function(e) {
                if (!userMenu.contains(e.target) && !userMenuButton.contains(e.target)) {
                    userMenu.classList.add('opacity-0', 'invisible');
                }
            });

            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    userMenu.classList.add('opacity-0', 'invisible');
                }
            });

            // Tag raffle pieces so we can style them in light mode without touching raffle.js
            if (raffleRoot) {
                const tagRafflePieces = () => {
                    try {
                        const winnerTitle = raffleRoot.querySelector('[data-i18n="raffleWinnerTitle"]');
                        const prizeLabel = raffleRoot.querySelector('[data-i18n="rafflePrizeLabel"]');
                        const participantsLabel = raffleRoot.querySelector('[data-i18n="raffleParticipants"]');
                        const participantCountBox = raffleRoot.querySelector('#participantCount');
                        if (winnerTitle && !winnerTitle.classList.contains('raffle-winner-title')) {
                            winnerTitle.classList.add('raffle-winner-title');
                        }
                        if (prizeLabel && !prizeLabel.classList.contains('raffle-prize-label')) {
                            prizeLabel.classList.add('raffle-prize-label');
                        }
                        if (participantsLabel && !participantsLabel.classList.contains('raffle-participants-label')) {
                            participantsLabel.classList.add('raffle-participants-label');
                        }
                        if (participantCountBox && !participantCountBox.classList.contains('raffle-participant-count')) {
                            participantCountBox.classList.add('raffle-participant-count');
                        }
                    } catch (_) {}
                };
                // Initial pass and observe for dynamic updates from raffle.js
                tagRafflePieces();
                const mo = new MutationObserver(tagRafflePieces);
                mo.observe(raffleRoot, { childList: true, subtree: true });
            }
        });
    </script>
</body>
</html>
